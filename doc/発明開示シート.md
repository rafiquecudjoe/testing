# 発明開示シート

## １．【発明の名称】： 

チャットツール上の褒め言葉とその増加による組織内の人間関係の健全性の可視化・向上システム

## ２． 【従来技術の構成・内容】（今までどのような技術があったか？文献、資料があれば記載）

- [Unipos](https://unipos.me/ja/) 
  - ピアボーナスを送る
- [Well](https://well.b-boulder.com/)
  - ワーク・エンゲージメントスコアとストレスマネジメントスコア（ストレスレベル）を可視化

## ３．【従来技術の課題・問題点】（どのような問題があったか？不便な点、不利な点等）・

- 明示的なアクション・操作が必要
  - 例えばインセンティブを送る、という操作が必要
  - 送り忘れや、面倒に感じてインセンティブを送らないという事象が発生する
- 明示的なアクションからデータの取得を行っている
  - 組織内の権限や立場によるバイアスを受け、格差を助長することにつながる

## ４．【本願発明の構成・実施形態】（本願発明の具体的な構成（何をどのようにしたのか）、何が新しいのか、何が特徴となるのかを分かりやすく。必須のものと任意のものとを分けて。人間の手で行うものはダメ）

### 褒め言葉

- 1. テキストチャットの各投稿に対して、リアクション数の集計と、本文のポジティブ度を計算する
- 2. メンションについては元投稿のリアクション数をスコアに追加する
- 3. ユーザーごとに各投稿のスコアを集計し、オーソリティを算出する
- 4. オーソリティによる補正を加味し、投稿のスコアが高いものを褒め言葉とする

### 組織

- 5. 組織内のオーソリティの分散を求め、その値を組織のフラットさの指標とする
- 6. 上記指標を小さくするために、メッセージ例などの改善案をユーザーに表示する
- 7. 上記指標が小さくなることを組織の健全性の向上とする

### 決めること

初期のauthorityは全員1
1投稿についてループはしない
k-meansのように徐々に近づいていく
データないときは弱いので過去1000系とか取得して学習させるスクリプトがいりそう

- オーソリティの算出方法
- いつ集計するのか？リアクションごとに計算すると処理が多い？
  - スレッド内の他の投稿に影響する
  - たいした数ではない
- 組織内の分散をどう表現する？
  - 何をもって偏りと表現する？
  - team内のユーザーと各praise
    - Aさん 5
    - B 3
    - C 1
    - 平均 3
    - かたより いくつ
    - (平均 - 各人のpraise)^2みたいなやつ
      - これが小さいとよい 
    - 一日1回集計する

- 活性指数
  - チームの 投稿頻度, 平均投稿文字数, 褒め頻度, チーム内の投稿・褒めの偏り
  - 足したら良い？→重み付けをどうする？
    - パラメータはいろいろ変える
  - 0~100
  - 頻度
    - 25点？ 10回 / 週*人だと25点, 5だと10点みたいなテーブル？or関数
  - 文字数
    - 25
  - 褒め頻度
    - 25
  - 偏り
    - 25

#### 褒め言葉の判定

トリガー
- メッセージの投稿
- リアクションがつく
- メンションがつく
- 親投稿に
- 子投稿に

- 算出
- 各イベントトリガーごとに+1の算出

- スレッド化せずに、メンションもつけない場合は、relation繋げない
  - でもよくある

- スレッドをアプリケーション側で保存する必要があるのでは？
  - ないと毎回スレッドを全取得する必要がある
    - APIのレート制限かかりそう
    - あとでいいのでは？



#### アドバイスの選ばれ方

- チームの 投稿頻度, 平均投稿文字数, 褒め頻度, チーム内の投稿・褒めの偏り
  - 上の各項目が基準以下の値だった場合、改善を促すアドバイスを表示する
  
## ５． 【作用・効果（従来技術に比べて有利な点）】（本願発明の構成を採用することにより、何がどのようになるのか？メリット、有利な点等。他にデメリットがあっても構わない。必須の構成と任意の構成とに分けて）

- 褒め言葉というものは文脈によるため、逐語的な言語解析で判断することができない
- 文章全体の属性や、周囲の反応により総合的に判断ができる
- 褒めるという行為は一般的に立場の強い人間から行われるため、オーソリティが高いものの発言は褒め言葉である可能性が高い
- また同時に、オーソリティが偏っている状態は組織として発言力の偏りがあるため、フラットでない



## ６． 【ハード構成】（ポンチ絵でＯＫ、従来と同じか？相違するのか？どのようにデータが流れるのかも矢印等で図示）

![img](./architecture.dio.svg)

データの流れ追記する


## ７． 【フローチャート】（処理の流れを図示、従来との違いを明確に）

```plantuml
@startuml flow

(*) -> Slackにメッセージを投稿
-> リアクション数を取得
-> ポジティブ度を取得
if 褒め言葉 then
-> [true] 集計
-> 組織の健全性に加点
else
-> [false] 集計しない
endif
-> 組織の健全性を算出
-> アドバイスを表示

@enduml
```plantuml

## めも

機能ブロックにわけて
各ブロックの処理と処理の流れ
クラス図